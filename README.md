–í–æ—Ç –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ README.md, –∫–æ—Ç–æ—Ä—É—é –≤—ã –º–æ–∂–µ—Ç–µ –≤–∫–ª—é—á–∏—Ç—å –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç. –û–Ω–∞ –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ —ç—Ç–∞–ø—ã: –æ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤.

ü§ñ LegalBot AI: –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –≤ Telegram
–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ —á–∞—Ç-–±–æ—Ç–∞ –¥–ª—è Telegram, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π –≤ —Å—Ñ–µ—Ä–µ –Ω–∞–ª–æ–≥–æ–≤ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–∏–∑–Ω–µ—Å–∞. –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—é RAG (Retrieval-Augmented Generation) —á–µ—Ä–µ–∑ OpenAI Assistants API –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å–Ω—ã—Ö –∞–∫—Ç–æ–≤.

üõ† –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
–ò–ò-–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏: –û—Ç–≤–µ—Ç—ã –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –Ω–∞–ª–æ–≥–∞–º (–£–°–ù, –ü–∞—Ç–µ–Ω—Ç, –ù–ü–î) –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ò–ü/–û–û–û.

–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π: –ü–æ–∏—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º PDF-—Ñ–∞–π–ª–∞–º —Å –∑–∞–∫–æ–Ω–∞–º–∏ (–ù–ö –†–§, –ì–ö –†–§).

–°—Å—ã–ª–∫–∏ –Ω–∞ –∑–∞–∫–æ–Ω: –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π.

–ó–∞–ø–∏—Å—å –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é: –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ FSM –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ Google –¢–∞–±–ª–∏—Ü—ã.

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –æ–±–ª–∞–∫–æ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.

üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
Plaintext

legal_bot/
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ laws/               # –ü–∞–ø–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ PDF —Å –∑–∞–∫–æ–Ω–∞–º–∏
‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îú‚îÄ‚îÄ common.py           # –ë–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã (/start, /help)
‚îÇ   ‚îú‚îÄ‚îÄ legal_query.py      # –û–±—Ä–∞–±–æ—Ç–∫–∞ –ò–ò-–∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ booking.py          # –ú–∞—à–∏–Ω–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π (–∑–∞–ø–∏—Å—å –∫ —é—Ä–∏—Å—Ç—É)
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ openai_service.py   # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI Assistants API
‚îÇ   ‚îî‚îÄ‚îÄ google_sheets.py    # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Google Sheets API
‚îú‚îÄ‚îÄ .env                    # –§–∞–π–ª —Å API-–∫–ª—é—á–∞–º–∏ (–Ω–µ –¥–ª—è GitHub)
‚îú‚îÄ‚îÄ config.py               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ main.py                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îî‚îÄ‚îÄ requirements.txt        # –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Python 3.10 –∏–ª–∏ –≤—ã—à–µ.

Bash

# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É
cd legal_bot

# –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv
source venv/bin/activate  # –î–ª—è Windows: venv\Scripts\activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OpenAI Assistant
–ó–∞–π–¥–∏—Ç–µ –Ω–∞ OpenAI Platform.

–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –º–æ–¥–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, gpt-4-turbo).

–í–∫–ª—é—á–∏—Ç–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç File Search.

–ó–∞–≥—Ä—É–∑–∏—Ç–µ PDF-—Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ data/laws/ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞.

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ Assistant ID.

3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Sheets
–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –≤ Google Cloud Console.

–í–∫–ª—é—á–∏—Ç–µ Google Sheets API –∏ Google Drive API.

–°–æ–∑–¥–∞–π—Ç–µ Service Account, —Å–∫–∞—á–∞–π—Ç–µ –∫–ª—é—á JSON –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–¥ –∏–º–µ–Ω–µ–º google_credentials.json.

–°–æ–∑–¥–∞–π—Ç–µ Google –¢–∞–±–ª–∏—Ü—É –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤—å—Ç–µ –¥–æ—Å—Ç—É–ø (Editor) –¥–ª—è email-–∞–¥—Ä–µ—Å–∞ –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞.

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ Spreadsheet ID –∏–∑ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.

4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–π–ª–∞ .env
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ –≤–∞—à–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

Code snippet

BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–∏–∑_botfather
OPENAI_API_KEY=–≤–∞—à_–∫–ª—é—á_openai
ASSISTANT_ID=id_–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
SPREADSHEET_ID=id_—Ç–∞–±–ª–∏—Ü—ã
üìñ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
–ó–∞–ø—É—Å–∫: –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É python main.py.

–ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã: –í–≤–µ–¥–∏—Ç–µ /start –≤ –±–æ—Ç–µ.

–ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è: –ü—Ä–æ—Å—Ç–æ –Ω–∞–ø–∏—à–∏—Ç–µ —Å–≤–æ–π –≤–æ–ø—Ä–æ—Å, –Ω–∞–ø—Ä–∏–º–µ—Ä: "–ö–∞–∫ –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –£–°–ù 6%?". –ë–æ—Ç –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±–∞–∑—É –∑–Ω–∞–Ω–∏–π –∏ –≤—ã–¥–∞—Å—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç —Å–æ —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ —Å—Ç–∞—Ç—å–∏ –ù–ö –†–§.

–ó–∞–ø–∏—Å—å: –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–∞ –¥–µ—Ç–∞–ª—å–Ω–∞—è –ø–æ–º–æ—â—å, –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É ¬´–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é¬ª. –ë–æ—Ç –∑–∞–ø—Ä–æ—Å–∏—Ç –≤–∞—à–µ –∏–º—è –∏ —Ç–µ–ª–µ—Ñ–æ–Ω, –ø–æ—Å–ª–µ —á–µ–≥–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç –∏—Ö –≤ —Ç–∞–±–ª–∏—Ü—É.

üèó –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
–Ø–∑—ã–∫: Python 3.11

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –±–æ—Ç–∞: aiogram 3.x (Asynchronous)

–ò–ò-–º–æ–¥–µ–ª—å: OpenAI Assistants API (v2)

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: Google Sheets API + JSON (–¥–ª—è —Å–µ—Å—Å–∏–π)

–û–∫—Ä—É–∂–µ–Ω–∏–µ: python-dotenv

üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è –¥–ª—è –∫–æ–º–∏—Å—Å–∏–∏
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏—é RAG, —á—Ç–æ –º–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ—Ç –≥–∞–ª–ª—é—Ü–∏–Ω–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏.

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ FSM (Finite State Machine) –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Å–±–æ—Ä –∫–æ–Ω—Ç–∞–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –º–æ–¥—É–ª–∏ (Handlers/Services) —Å–æ–≥–ª–∞—Å–Ω–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º —á–∏—Å—Ç–æ–≥–æ –∫–æ–¥–∞.