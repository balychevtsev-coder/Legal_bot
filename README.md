# ‚öñÔ∏è Legal AI Assistant: IAS Digital

–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π Telegram-–±–æ—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π –ø–æ –≤–æ–ø—Ä–æ—Å–∞–º –Ω–∞–ª–æ–≥–æ–æ–±–ª–æ–∂–µ–Ω–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –±–∏–∑–Ω–µ—Å–∞ –≤ –†–§. –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—ã–ø—É—Å–∫–Ω–æ–π –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–æ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

## üöÄ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* **üß† –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç (RAG):** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç OpenAI Assistants API –¥–ª—è –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —Å–ª–æ–∂–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã. –ë–æ—Ç –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—É—é –±–∞–∑—É –∑–Ω–∞–Ω–∏–π (–ù–ö –†–§, –ì–ö –†–§), –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—è —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∑–∞–∫–æ–Ω–æ–≤.
* **üìö –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π FAQ:** –ú–æ–¥—É–ª—å —á–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å Google Sheets. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–ª—è—Ç—å –±–∞–∑—É –æ—Ç–≤–µ—Ç–æ–≤ –≤ —Ç–∞–±–ª–∏—Ü–µ –±–µ–∑ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ –∫–æ–¥ –±–æ—Ç–∞.
* **üìÖ –°–∏—Å—Ç–µ–º–∞ –∑–∞–ø–∏—Å–∏ –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ FSM (Finite State Machine). –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–∏–º—è, —Ç–µ–ª–µ—Ñ–æ–Ω) –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –æ–±–ª–∞—á–Ω—É—é —Ç–∞–±–ª–∏—Ü—É –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —é—Ä–∏—Å—Ç–æ–º.
* **üé® –£–ª—É—á—à–µ–Ω–Ω—ã–π UX/UI:** –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é (Reply Keyboard), –∏–Ω–ª–∞–π–Ω–æ–≤—ã–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, —Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–∞–Ω–¥ –∏ –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –ò–ò (typing status).

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

* **–Ø–∑—ã–∫:** Python 3.11+
* **–§—Ä–µ–π–º–≤–æ—Ä–∫:** [aiogram 3.x](https://github.com/aiogram/aiogram) (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞)
* **AI –ú–æ–¥–µ–ª–∏:** OpenAI gpt-4o / gpt-3.5-turbo
* **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ò–ò:** Assistants API, Vector Stores (File Search)
* **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö / –û–±–ª–∞–∫–æ:** Google Sheets API (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ gspread)
* **–°—Ä–µ–¥–∞:** python-dotenv, asyncio

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

Legal_bot/
‚îú‚îÄ‚îÄ handlers/            # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π (–∫–æ–º–∞–Ω–¥—ã, FAQ, –∑–∞–ø–∏—Å—å)
‚îÇ   ‚îú‚îÄ‚îÄ common.py        # –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é –∏ –±–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ booking.py       # –õ–æ–≥–∏–∫–∞ –∑–∞–ø–∏—Å–∏ –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é (FSM)
‚îÇ   ‚îî‚îÄ‚îÄ legal_query.py   # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI (RAG)
‚îú‚îÄ‚îÄ services/            # –í–Ω–µ—à–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ google_sheets.py # –†–∞–±–æ—Ç–∞ —Å Google Sheets API
‚îÇ   ‚îî‚îÄ‚îÄ openai_service.py# –†–∞–±–æ—Ç–∞ —Å OpenAI Assistants
‚îú‚îÄ‚îÄ .env                 # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Ç–æ–∫–µ–Ω—ã –∏ –∫–ª—é—á–∏)
‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ main.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞
‚îî‚îÄ‚îÄ requirements.txt     # –°–ø–∏—Å–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

git clone https://github.com/–≤–∞—à_–ª–æ–≥–∏–Ω/–≤–∞—à_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.git
cd Legal_bot

2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à–∏ –∫–ª—é—á–∏:

Code snippet

BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_—Ç–µ–ª–µ–≥—Ä–∞–º
OPENAI_API_KEY=–≤–∞—à_–∫–ª—é—á_openai
ASSISTANT_ID=id_–≤–∞—à–µ–≥–æ_–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
SPREADSHEET_ID=id_–≤–∞—à–µ–π_–≥—É–≥–ª_—Ç–∞–±–ª–∏—Ü—ã
GOOGLE_CREDS_PATH=google_credentials.json

3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
python -m venv venv
source venv/bin/activate  # –î–ª—è Windows: venv\Scripts\activate
pip install -r requirements.txt

4. –ó–∞–ø—É—Å–∫

python main.py

üìä –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Sheets

–î–ª—è —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞ –≤ —Ç–∞–±–ª–∏—Ü–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –ª–∏—Å—Ç—ã:
Sheet1 (–∏–ª–∏ –ø–µ—Ä–≤—ã–π –ª–∏—Å—Ç): –î–ª—è –∑–∞–ø–∏—Å–∏ –∑–∞—è–≤–æ–∫ (ID, –ò–º—è, –¢–µ–ª–µ—Ñ–æ–Ω).
FAQ: –° –∫–æ–ª–æ–Ω–∫–∞–º–∏ –í–æ–ø—Ä–æ—Å –∏ –û—Ç–≤–µ—Ç.

ü§ù –ö–æ–Ω—Ç–∞–∫—Ç—ã
–ê–≤—Ç–æ—Ä: Roman

–ü—Ä–æ–µ–∫—Ç: IAS Digital AI - –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π –ø–æ–º–æ—â–Ω–∏–∫